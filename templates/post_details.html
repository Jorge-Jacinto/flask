{% extends './layout.html' %}
{% block css%}<link rel="stylesheet" href="{{ url_for('static', filename='css/post_details.css')}}">{% endblock %}
{% block body %}
    <header>
        <div class="navigation">
            <ul class="menu">
                <li class="menu-item"><a href="{{ url_for('inicio') }}">Inicio</a></li>
                <li class="menu-item"><a href="{{ url_for('escuelas_filo') }}">Escuelas Filosóficas</a></li>
                <li class="menu-item"><a href="{{ url_for('forum') }}">Foro</a></li>
                <li class="menu-item"><a href="{{ url_for('logout') }}">Cerrar Sesión</a></li>
            </ul>
        </div>
    </header>

    <div class="forum-container">
        <!-- Mostrar la publicación principal -->
        <div class="post">
            <h2>{{ post[1] }}</h2>
            <p>{{ post[2] }}</p>
            <p>Este comentario es: {{post[4]}}</p>
            <small>Publicado por {{ post[0] }} el {{ post[3] }}</small>
        </div>

        <!-- Formulario para agregar un comentario -->
        <div class="add-comment">
            <h3>Agregar un comentario</h3>
            <form action="{{ url_for('add_comment', post_id=post[5]) }}" method="POST">
                <textarea name="comentario" rows="4" placeholder="Escribe tu comentario aquí..."></textarea><br>
                <button type="submit" class="submit-comment">Comentar</button>
            </form>
        </div>        

        <!-- Mostrar todos los comentarios de la publicación -->
        <div class="comments-section">
            <h3>Comentarios</h3>
            {% for comment in comments %}
                <div class="comment">
                    <p>{{ comment[0] }}</p>
                    <small>Comentado por {{ comment[2] }} el {{ comment[1] }}</small>
                </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}
